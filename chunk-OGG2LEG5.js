import{b as l}from"./chunk-PJPYSWX2.js";import"./chunk-JHI3MBHO.js";var h=class extends l{constructor(){super(),this.initializeShareTarget()}initializeShareTarget(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{this.handleGetShareTarget()}):this.handleGetShareTarget()}handleGetShareTarget(){let t=new URL(window.location.href),r=t.searchParams.get("title")||"",a=[],s=0;for(;t.searchParams.has(`text${s}`);){let e=t.searchParams.get(`text${s}`);e&&a.push(e),s++}let n=[],i=0;for(;t.searchParams.has(`file${i}`);){let e=t.searchParams.get(`file${i}`);e&&n.push(e),i++}if(r||a.length>0||n.length>0){let e={title:r,texts:a.length>0?a:void 0,files:n.length>0?n:void 0};this.notifyListeners("shareReceived",e,!0),window.history.replaceState(null,"",t.pathname)}}};export{h as ShareTargetWeb};
